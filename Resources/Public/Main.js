/*!
 * Jonnitto.PrettyEmbedYoutube - created by Jon Uhlmann
 * @build 2018-05-17 23:03
 * @link https://github.com/jonnitto/Jonnitto.PrettyEmbedYoutube
 */
!function(){"use strict";var e,t=(function(e){!function(){var t,n=0,i=0,o={},r={};function a(e,i,o){return"_root"==i?o:e!==o?function(e){return t||(t=e.matches?e.matches:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:e.oMatchesSelector?e.oMatchesSelector:l.matchesSelector)}(e).call(e,i)?e:e.parentNode?(n++,a(e.parentNode,i,o)):void 0:void 0}function c(e,t,n,i){o[e.id]||(o[e.id]={}),o[e.id][t]||(o[e.id][t]={}),o[e.id][t][n]||(o[e.id][t][n]=[]),o[e.id][t][n].push(i)}function u(e,t,n,i){if(o[e.id])if(t)if(i||n)if(i){if(o[e.id][t][n])for(var r=0;r<o[e.id][t][n].length;r++)if(o[e.id][t][n][r]===i){o[e.id][t][n].splice(r,1);break}}else delete o[e.id][t][n];else o[e.id][t]={};else for(var a in o[e.id])o[e.id].hasOwnProperty(a)&&(o[e.id][a]={})}function d(e,t,i,d){if(this.element){e instanceof Array||(e=[e]),i||"function"!=typeof t||(i=t,t="_root");var s,f=this.id;for(s=0;s<e.length;s++)d?u(this,e[s],t,i):(o[f]&&o[f][e[s]]||l.addEvent(this,e[s],m(e[s])),c(this,e[s],t,i));return this}function m(e){return function(t){!function(e,t,i){if(o[e][i]){var c,u,d=t.target||t.srcElement,s={},f=0,m=0;for(c in n=0,o[e][i])o[e][i].hasOwnProperty(c)&&(u=a(d,c,r[e].element))&&l.matchesEvent(i,r[e].element,u,"_root"==c,t)&&(n++,o[e][i][c].match=u,s[n]=o[e][i][c]);for(t.stopPropagation=function(){t.cancelBubble=!0},f=0;f<=n;f++)if(s[f])for(m=0;m<s[f].length;m++){if(!1===s[f][m].call(s[f].match,t))return void l.cancel(t);if(t.cancelBubble)return}}}(f,t,e)}}}function l(e,t){if(!(this instanceof l)){for(var n in r)if(r[n].element===e)return r[n];return r[++i]=new l(e,i),r[i]}this.element=e,this.id=t}l.prototype.on=function(e,t,n){return d.call(this,e,t,n)},l.prototype.off=function(e,t,n){return d.call(this,e,t,n,!0)},l.matchesSelector=function(){},l.cancel=function(e){e.preventDefault(),e.stopPropagation()},l.addEvent=function(e,t,n){var i="blur"==t||"focus"==t;e.element.addEventListener(t,n,i)},l.matchesEvent=function(){return!0},e.exports&&(e.exports=l),window.Gator=l}()}(e={exports:{}},e.exports),e.exports),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if("object"===(void 0===e?"undefined":n(e))&&"string"==typeof t){var i=e,o=i.tagName,r=new RegExp("^<"+o,"i"),a=new RegExp(o+">$","i"),c="<"+t,u=t+">",d=document.createElement("div");d.innerHTML=i.outerHTML.replace(r,c).replace(a,u);var l=d.firstChild;return e.parentNode.replaceChild(l,e),l}}function o(e){var t=e.getAttribute("data-embed")||!1,n=e.getElementsByTagName("img")[0],o=n.getAttribute("src")||!1,r=n.width,a=n.height;if(t&&r&&a){var c=i(e,"div"),u="true"==e.getAttribute("data-fs")?"allowfullscreen ":"";c.setAttribute("data-img",o),c.classList.add("play"),c.style.paddingTop=parseInt(a)/parseInt(r)*100+"%",c.innerHTML='<iframe src="'+t+'" width="'+r+'" height="'+a+'" '+u+'frameborder="0"></iframe>'}}window.prettyEmbedYoutubeRestore=function(e){var t=e.getAttribute("data-img")||!1;t&&(e.classList.remove("play"),e.removeAttribute("style"),e.innerHTML='<img src="'+t+'" />',i(e,"a"))},window.prettyEmbedYoutubeInit=function(e){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("a.embed-youtube"));for(var t=e.length-1;t>=0;t--)o(e[t])}},t(window).on("load",function(){prettyEmbedYoutubeInit()}),t(document.documentElement).on("click","a.embed-youtube",function(e){e.preventDefault(),o(this)});var r=document.documentElement,a="jonnitto-prettyembed-popup",c=a+"-visible",u='\n<div class="'+a+'-holder">\n    <iframe class="'+a+'-iframe" src="%src%" frameborder="0"%fs%></iframe>\n</div>',d=!1,l=document.createElement("div");function s(){document.body.classList.remove(c),setTimeout(function(){d.innerHTML=""},300)}function f(e){var t=e.getAttribute("src");e.naturalHeight<=90&&e.naturalWidth<=120&&-1==t.indexOf("/default.jpg")&&(t=t.replace("mqdefault","default").replace("hqdefault","mqdefault").replace("sddefault","hqdefault").replace("maxresdefault","sddefault"),e.setAttribute("src",t),setTimeout(function(){e.onload=function(){f(e)}},10),setTimeout(function(){f(e)},5e3))}l.className=a,l.innerHTML='\n<div class="'+a+'-inner">\n    <button type="button" class="'+a+'-close">&times;</button>\n    <div id="popup-youtube" class="'+a+'-content"></div>\n</div>',t(r).on("click","a.popup-youtube",function(e){var t="true"==this.getAttribute("data-fs")?" allowfullscreen":"",n=this.getAttribute("data-embed")||!1;d||(document.body.appendChild(l),d=document.getElementById("popup-youtube")),n&&(e.preventDefault(),d.innerHTML=u.replace("%src%",n).replace("%fs%",t),setTimeout(function(){document.body.classList.add(c)},100))}),t(r).on("click","."+a,s),t(r).on("keyup",function(e){27==e.keyCode&&-1!=document.body.classList.contains(c)&&s()}),window.prettyEmbedYoutubeFixPreview=function(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("img.embed-youtube-youtube-preview"));for(var t=e.length-1;t>=0;t--)f(e[t])}},t(window).on("load",function(){prettyEmbedYoutubeFixPreview()})}();

//# sourceMappingURL=Main.js.map
