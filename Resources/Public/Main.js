/*!
 * Jonnitto.PrettyEmbedYoutube - created by Jon Uhlmann
 * @build 2017-10-18 18:15
 * @link https://github.com/jonnitto/Jonnitto.PrettyEmbedYoutube
 */
!function(){"use strict";function e(e,t){if("object"==typeof e&&"string"==typeof t){var n=e,i=n.tagName,o=new RegExp("^<"+i,"i"),r=new RegExp(i+">$","i"),a="<"+t,c=t+">",u=document.createElement("div");u.innerHTML=n.outerHTML.replace(o,a).replace(r,c);var d=u.firstChild;return e.parentNode.replaceChild(d,e),d}}function t(t){var n=t.getAttribute("data-embed")||!1,i=t.getElementsByTagName("img")[0],o=i.getAttribute("src")||!1,r=i.width,a=i.height;if(n&&r&&a){var c=e(t,"div"),u="true"==t.getAttribute("data-fs")?"allowfullscreen ":"";c.setAttribute("data-img",o),c.classList.add("play"),c.style.paddingTop=parseInt(a)/parseInt(r)*100+"%",c.innerHTML='<iframe src="'+n+'" width="'+r+'" height="'+a+'" '+u+'frameborder="0"></iframe>'}}function n(){document.body.classList.remove(c),setTimeout(function(){d.innerHTML=""},300)}function i(e){var t=e.getAttribute("src");e.naturalHeight<=90&&e.naturalWidth<=120&&-1==t.indexOf("/default.jpg")&&(t=t.replace("mqdefault","default").replace("hqdefault","mqdefault").replace("sddefault","hqdefault").replace("maxresdefault","sddefault"),e.setAttribute("src",t),setTimeout(function(){e.onload=function(){i(e)}},10),setTimeout(function(){i(e)},5e3))}var o=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){!function(){function t(e){return u||(u=e.matches?e.matches:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:e.oMatchesSelector?e.oMatchesSelector:c.matchesSelector)}function n(e,i,o){if("_root"==i)return o;if(e!==o)return t(e).call(e,i)?e:e.parentNode?(d++,n(e.parentNode,i,o)):void 0}function i(e,t,n,i){l[e.id]||(l[e.id]={}),l[e.id][t]||(l[e.id][t]={}),l[e.id][t][n]||(l[e.id][t][n]=[]),l[e.id][t][n].push(i)}function o(e,t,n,i){if(l[e.id])if(t)if(i||n)if(i){if(l[e.id][t][n])for(var o=0;o<l[e.id][t][n].length;o++)if(l[e.id][t][n][o]===i){l[e.id][t][n].splice(o,1);break}}else delete l[e.id][t][n];else l[e.id][t]={};else for(var r in l[e.id])l[e.id].hasOwnProperty(r)&&(l[e.id][r]={})}function r(e,t,i){if(l[e][i]){var o,r,a=t.target||t.srcElement,u={},s=0,m=0;d=0;for(o in l[e][i])l[e][i].hasOwnProperty(o)&&(r=n(a,o,f[e].element))&&c.matchesEvent(i,f[e].element,r,"_root"==o,t)&&(d++,l[e][i][o].match=r,u[d]=l[e][i][o]);for(t.stopPropagation=function(){t.cancelBubble=!0},s=0;s<=d;s++)if(u[s])for(m=0;m<u[s].length;m++){if(!1===u[s][m].call(u[s].match,t))return void c.cancel(t);if(t.cancelBubble)return}}}function a(e,t,n,a){var u=this;if(this.element){e instanceof Array||(e=[e]),n||"function"!=typeof t||(n=t,t="_root");var d,s=this.id;for(d=0;d<e.length;d++)a?o(u,e[d],t,n):(l[s]&&l[s][e[d]]||c.addEvent(u,e[d],function(e){return function(t){r(s,t,e)}}(e[d])),i(u,e[d],t,n));return this}}function c(e,t){if(!(this instanceof c)){for(var n in f)if(f[n].element===e)return f[n];return s++,f[s]=new c(e,s),f[s]}this.element=e,this.id=t}var u,d=0,s=0,l={},f={};c.prototype.on=function(e,t,n){return a.call(this,e,t,n)},c.prototype.off=function(e,t,n){return a.call(this,e,t,n,!0)},c.matchesSelector=function(){},c.cancel=function(e){e.preventDefault(),e.stopPropagation()},c.addEvent=function(e,t,n){var i="blur"==t||"focus"==t;e.element.addEventListener(t,n,i)},c.matchesEvent=function(){return!0},e.exports&&(e.exports=c),window.Gator=c}()});window.prettyEmbedYoutubeRestore=function(t){var n=t.getAttribute("data-img")||!1;n&&(t.classList.remove("play"),t.removeAttribute("style"),t.innerHTML='<img src="'+n+'" />',e(t,"a"))},window.prettyEmbedYoutubeInit=function(e){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("a.embed-youtube"));for(var n=e.length-1;n>=0;n--)t(e[n])}},o(window).on("load",function(){prettyEmbedYoutubeInit()}),o(document.documentElement).on("click","a.embed-youtube",function(e){e.preventDefault(),t(this)});var r=document.documentElement,a="jonnitto-prettyembed-popup",c=a+"-visible",u='\n<div class="'+a+'-holder">\n    <iframe class="'+a+'-iframe" src="%src%" frameborder="0"%fs%></iframe>\n</div>',d=!1,s=document.createElement("div");s.className=a,s.innerHTML='\n<div class="'+a+'-inner">\n    <button type="button" class="'+a+'-close">&times;</button>\n    <div id="popup-youtube" class="'+a+'-content"></div>\n</div>',o(r).on("click","a.popup-youtube",function(e){var t="true"==this.getAttribute("data-fs")?" allowfullscreen":"",n=this.getAttribute("data-embed")||!1;d||(document.body.appendChild(s),d=document.getElementById("popup-youtube")),n&&(e.preventDefault(),d.innerHTML=u.replace("%src%",n).replace("%fs%",t),setTimeout(function(){document.body.classList.add(c)},100))}),o(r).on("click","."+a,n),o(r).on("keyup",function(e){27==e.keyCode&&-1!=document.body.classList.contains(c)&&n()}),window.prettyEmbedYoutubeFixPreview=function(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("img.embed-youtube-youtube-preview"));for(var t=e.length-1;t>=0;t--)i(e[t])}},o(window).on("load",function(){prettyEmbedYoutubeFixPreview()})}();

//# sourceMappingURL=Main.js.map
