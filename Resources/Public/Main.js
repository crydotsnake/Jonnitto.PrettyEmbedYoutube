/*!
 * Jonnitto.PrettyEmbedYoutube - created by Jon Uhlmann
 * @build 2019-02-12 09:14
 * @link https://github.com/jonnitto/Jonnitto.PrettyEmbedYoutube
 */
!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t,n=(function(e){!function(){var t,n=0,o=0,i={},r={};function c(e,o,i){return"_root"==o?i:e!==i?function(e){return t||(t=e.matches?e.matches:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:e.oMatchesSelector?e.oMatchesSelector:d.matchesSelector)}(e).call(e,o)?e:e.parentNode?(n++,c(e.parentNode,o,i)):void 0:void 0}function a(e,t,n,o){i[e.id]||(i[e.id]={}),i[e.id][t]||(i[e.id][t]={}),i[e.id][t][n]||(i[e.id][t][n]=[]),i[e.id][t][n].push(o)}function u(e,t,n,o){if(i[e.id])if(t)if(o||n)if(o){if(i[e.id][t][n])for(var r=0;r<i[e.id][t][n].length;r++)if(i[e.id][t][n][r]===o){i[e.id][t][n].splice(r,1);break}}else delete i[e.id][t][n];else i[e.id][t]={};else for(var c in i[e.id])i[e.id].hasOwnProperty(c)&&(i[e.id][c]={})}function l(e,t,o,l){if(this.element){e instanceof Array||(e=[e]),o||"function"!=typeof t||(o=t,t="_root");var s,f=this.id;for(s=0;s<e.length;s++)l?u(this,e[s],t,o):(i[f]&&i[f][e[s]]||d.addEvent(this,e[s],p(e[s])),a(this,e[s],t,o));return this}function p(e){return function(t){!function(e,t,o){if(i[e][o]){var a,u,l=t.target||t.srcElement,s={},f=0,p=0;for(a in n=0,i[e][o])i[e][o].hasOwnProperty(a)&&(u=c(l,a,r[e].element))&&d.matchesEvent(o,r[e].element,u,"_root"==a,t)&&(n++,i[e][o][a].match=u,s[n]=i[e][o][a]);for(t.stopPropagation=function(){t.cancelBubble=!0},f=0;f<=n;f++)if(s[f])for(p=0;p<s[f].length;p++){if(!1===s[f][p].call(s[f].match,t))return void d.cancel(t);if(t.cancelBubble)return}}}(f,t,e)}}}function d(e,t){if(!(this instanceof d)){for(var n in r)if(r[n].element===e)return r[n];return r[++o]=new d(e,o),r[o]}this.element=e,this.id=t}d.prototype.on=function(e,t,n){return l.call(this,e,t,n)},d.prototype.off=function(e,t,n){return l.call(this,e,t,n,!0)},d.matchesSelector=function(){},d.cancel=function(e){e.preventDefault(),e.stopPropagation()},d.addEvent=function(e,t,n){var o="blur"==t||"focus"==t;e.element.addEventListener(t,n,o)},d.matchesEvent=function(){return!0},e.exports&&(e.exports=d),window.Gator=d}()}(t={exports:{}},t.exports),t.exports),o="a.jonnitto-prettyembedyoutube--embed",i="jonnitto-prettyembedyoutube--play";function r(t){var n=t.getAttribute("data-embed")||!1,o=t.getElementsByTagName("img")[0],r=o.getAttribute("src")||!1,c=o.width,a=o.height;if(n&&c&&a){var u=function(t,n){if("object"===e(t)&&"string"==typeof n){var o=t,i=o.tagName,r=new RegExp("^<"+i,"i"),c=new RegExp(i+">$","i"),a="<"+n,u=n+">",l=document.createElement("div");l.innerHTML=o.outerHTML.replace(r,a).replace(c,u);var d=l.firstChild;return t.parentNode.replaceChild(d,t),d}}(t,"div"),l="true"==t.getAttribute("data-fs")?"allowfullscreen ":"";u.setAttribute("data-img",r),u.classList.add(i),u.style.paddingTop=parseInt(a)/parseInt(c)*100+"%",u.innerHTML='<iframe src="'.concat(n,'" width="').concat(c,'" height="').concat(a,'" ').concat(l,'frameborder="0" allow="fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>')}}n(window).on("load",function(){!function(e){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll(o));for(var t=e.length-1;t>=0;t--)r(e[t])}}()}),n(document.documentElement).on("click",o,function(e){e.preventDefault(),r(this)});var c=document.documentElement,a="jonnitto-prettyembedyoutube__popup",u="".concat(a,"-visible"),l='\n<div class="'.concat(a,'-holder">\n    <iframe class="').concat(a,'-iframe" src="%src%" frameborder="0" allow="fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"%fs%></iframe>\n</div>'),d=!1,s=document.createElement("div");function f(){document.body.classList.remove(u),setTimeout(function(){d.innerHTML=""},300)}function p(e){var t=e.getAttribute("src");e.naturalHeight<=90&&e.naturalWidth<=120&&-1==t.indexOf("/default.jpg")&&(t=t.replace("mqdefault","default").replace("hqdefault","mqdefault").replace("sddefault","hqdefault").replace("maxresdefault","sddefault"),e.setAttribute("src",t),setTimeout(function(){e.onload=function(){p(e)}},10),setTimeout(function(){p(e)},5e3))}s.className=a,s.innerHTML='\n<div class="'.concat(a,'-inner">\n    <button type="button" class="').concat(a,'-close">&times;</button>\n    <div id="popup-youtube" class="').concat(a,'-content"></div>\n</div>'),n(c).on("click","a.jonnitto-prettyembedyoutube--popup",function(e){var t="true"==this.getAttribute("data-fs")?" allowfullscreen":"",n=this.getAttribute("data-embed")||!1;d||(document.body.appendChild(s),d=document.getElementById("popup-youtube")),n&&(e.preventDefault(),d.innerHTML=l.replace("%src%",n).replace("%fs%",t),setTimeout(function(){document.body.classList.add(u)},100))}),n(c).on("click",".".concat(a),f),n(c).on("keyup",function(e){27==e.keyCode&&-1!=document.body.classList.contains(u)&&f()}),n(window).on("load",function(){!function(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("img.jonnitto-prettyembedyoutube__youtube-preview"));for(var t=e.length-1;t>=0;t--)p(e[t])}}()})}();

//# sourceMappingURL=Main.js.map
