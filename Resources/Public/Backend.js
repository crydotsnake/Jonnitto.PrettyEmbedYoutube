/*!
 * Jonnitto.PrettyEmbedYoutube - created by Jon Uhlmann
 * @build 2019-02-11 18:15
 * @link https://github.com/jonnitto/Jonnitto.PrettyEmbedYoutube
 */
var Backend=function(){"use strict";var e;function t(e){var n=e.getAttribute("src");e.naturalHeight<=90&&e.naturalWidth<=120&&-1==n.indexOf("/default.jpg")&&(n=n.replace("mqdefault","default").replace("hqdefault","mqdefault").replace("sddefault","hqdefault").replace("maxresdefault","sddefault"),e.setAttribute("src",n),setTimeout(function(){e.onload=function(){t(e)}},10),setTimeout(function(){t(e)},5e3))}function n(e){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){void 0===e&&(e=document.querySelectorAll("img.jonnitto-prettyembedyoutube__youtube-preview"));for(var n=e.length-1;n>=0;n--)t(e[n])}}function o(e,t){e.forEach(function(e){document.addEventListener("Neos."+e,t,!1)})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Jonnitto.PrettyEmbedYoutube:YouTube";try{e.detail.element.attributes["data-node-_node-type"].value==t&&n()}catch(e){}try{var o=e.detail.node;console.log(o.get("nodeType")),console.log(o),o.get("nodeType")===t&&n()}catch(e){}}return(function(e){!function(){var t,n=0,o=0,i={},r={};function a(e,o,i){return"_root"==o?i:e!==i?function(e){return t||(t=e.matches?e.matches:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:e.oMatchesSelector?e.oMatchesSelector:l.matchesSelector)}(e).call(e,o)?e:e.parentNode?(n++,a(e.parentNode,o,i)):void 0:void 0}function c(e,t,n,o){i[e.id]||(i[e.id]={}),i[e.id][t]||(i[e.id][t]={}),i[e.id][t][n]||(i[e.id][t][n]=[]),i[e.id][t][n].push(o)}function u(e,t,n,o){if(i[e.id])if(t)if(o||n)if(o){if(i[e.id][t][n])for(var r=0;r<i[e.id][t][n].length;r++)if(i[e.id][t][n][r]===o){i[e.id][t][n].splice(r,1);break}}else delete i[e.id][t][n];else i[e.id][t]={};else for(var a in i[e.id])i[e.id].hasOwnProperty(a)&&(i[e.id][a]={})}function d(e,t,o,d){if(this.element){e instanceof Array||(e=[e]),o||"function"!=typeof t||(o=t,t="_root");var f,s=this.id;for(f=0;f<e.length;f++)d?u(this,e[f],t,o):(i[s]&&i[s][e[f]]||l.addEvent(this,e[f],h(e[f])),c(this,e[f],t,o));return this}function h(e){return function(t){!function(e,t,o){if(i[e][o]){var c,u,d=t.target||t.srcElement,f={},s=0,h=0;for(c in n=0,i[e][o])i[e][o].hasOwnProperty(c)&&(u=a(d,c,r[e].element))&&l.matchesEvent(o,r[e].element,u,"_root"==c,t)&&(n++,i[e][o][c].match=u,f[n]=i[e][o][c]);for(t.stopPropagation=function(){t.cancelBubble=!0},s=0;s<=n;s++)if(f[s])for(h=0;h<f[s].length;h++){if(!1===f[s][h].call(f[s].match,t))return void l.cancel(t);if(t.cancelBubble)return}}}(s,t,e)}}}function l(e,t){if(!(this instanceof l)){for(var n in r)if(r[n].element===e)return r[n];return r[++o]=new l(e,o),r[o]}this.element=e,this.id=t}l.prototype.on=function(e,t,n){return d.call(this,e,t,n)},l.prototype.off=function(e,t,n){return d.call(this,e,t,n,!0)},l.matchesSelector=function(){},l.cancel=function(e){e.preventDefault(),e.stopPropagation()},l.addEvent=function(e,t,n){var o="blur"==t||"focus"==t;e.element.addEventListener(t,n,o)},l.matchesEvent=function(){return!0},e.exports&&(e.exports=l),window.Gator=l}()}(e={exports:{}},e.exports),e.exports)(window).on("load",function(){n()}),o(["NodeCreated","NodeSelected"],i),o(["PageLoaded","ContentModuleLoaded"],function(){n()}),i}();

//# sourceMappingURL=Backend.js.map
